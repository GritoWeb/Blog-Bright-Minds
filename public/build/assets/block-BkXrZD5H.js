const N=wp.blocks.registerBlockType,u=wp.blockEditor.useBlockProps,R=wp.blockEditor.MediaUpload,h=wp.blockEditor.MediaUploadCheck,a=wp.blockEditor.RichText,b=wp.components.Button,v=wp.components.TextControl;wp.element.Fragment;N("meutema/post-block",{title:"Post Block",icon:"admin-post",category:"layout",description:"Bloco que mostra dois cards de post lado a lado. Personalize imagem, título, data e excerpt.",attributes:{leftImageUrl:{type:"string",default:""},leftTitle:{type:"string",default:""},leftDate:{type:"string",default:""},leftExcerpt:{type:"string",default:""},rightImageUrl:{type:"string",default:""},rightTitle:{type:"string",default:""},rightDate:{type:"string",default:""},rightExcerpt:{type:"string",default:""}},supports:{html:!1},edit({attributes:d,setAttributes:t}){const{leftImageUrl:c,leftTitle:r,leftDate:n,leftExcerpt:s,rightImageUrl:m,rightTitle:o,rightDate:i,rightExcerpt:p}=d,f=u({className:"post-block w-full"}),g=(e,l)=>{const E=(l==null?void 0:l.url)||"";t(e==="left"?{leftImageUrl:E}:{rightImageUrl:E})};return React.createElement("div",{...f},React.createElement("div",{className:"mx-auto px-4",style:{maxWidth:"1200px"}},React.createElement("div",{className:"post-block__inner flex flex-wrap -mx-4"},React.createElement("div",{className:"post-item w-1/2 px-4"},React.createElement("div",{className:"mb-4"},React.createElement("label",{className:"block mb-2 font-medium"},"Imagem (esquerda)"),React.createElement(h,null,React.createElement(R,{onSelect:e=>g("left",e),allowedTypes:["image"],value:c,render:({open:e})=>React.createElement("div",null,React.createElement("div",{className:"mb-2"},c?React.createElement("img",{src:c,className:"w-full h-48 object-cover rounded",alt:""}):React.createElement("div",{className:"w-full h-48 bg-gray-100 flex items-center justify-center text-gray-500"},"Sem imagem")),React.createElement(b,{onClick:l=>{l.preventDefault(),e()},variant:"secondary"},"Selecionar imagem"))}))),React.createElement("div",{className:"mb-4"},React.createElement("label",{className:"block mt-3 mb-1"},"Título (esquerda)"),React.createElement(a,{tagName:"h3",className:"font-heading text-h4 mb-2",value:r,onChange:e=>t({leftTitle:e}),placeholder:"Título do card"})),React.createElement("div",{className:"mb-4"},React.createElement("label",{className:"block mt-2 mb-1"},"Data (esquerda)"),React.createElement(v,{value:n,onChange:e=>t({leftDate:e}),placeholder:"01 de janeiro de 2025"})),React.createElement("div",{className:"mb-4"},React.createElement("label",{className:"block mt-2 mb-1"},"Resumo (esquerda)"),React.createElement(a,{tagName:"p",className:"text-base text-gray-800 line-clamp-3",value:s,onChange:e=>t({leftExcerpt:e}),placeholder:"Resumo do post..."}))),React.createElement("div",{className:"post-item w-1/2 px-4"},React.createElement("div",{className:"mb-4"},React.createElement("label",{className:"block mb-2 font-medium"},"Imagem (direita)"),React.createElement(h,null,React.createElement(R,{onSelect:e=>g("right",e),allowedTypes:["image"],value:m,render:({open:e})=>React.createElement("div",null,React.createElement("div",{className:"mb-2"},m?React.createElement("img",{src:m,className:"w-full h-48 object-cover rounded",alt:""}):React.createElement("div",{className:"w-full h-48 bg-gray-100 flex items-center justify-center text-gray-500"},"Sem imagem")),React.createElement(b,{onClick:l=>{l.preventDefault(),e()},variant:"secondary"},"Selecionar imagem"))}))),React.createElement("div",{className:"mb-4"},React.createElement("label",{className:"block mt-3 mb-1"},"Título (direita)"),React.createElement(a,{tagName:"h3",className:"font-heading text-h4 mb-2",value:o,onChange:e=>t({rightTitle:e}),placeholder:"Título do card"})),React.createElement("div",{className:"mb-4"},React.createElement("label",{className:"block mt-2 mb-1"},"Data (direita)"),React.createElement(v,{value:i,onChange:e=>t({rightDate:e}),placeholder:"01 de janeiro de 2025"})),React.createElement("div",{className:"mb-4"},React.createElement("label",{className:"block mt-2 mb-1"},"Resumo (direita)"),React.createElement(a,{tagName:"p",className:"text-base text-gray-800 line-clamp-3",value:p,onChange:e=>t({rightExcerpt:e}),placeholder:"Resumo do post..."}))))))},save({attributes:d}){const{leftImageUrl:t,leftTitle:c,leftDate:r,leftExcerpt:n,rightImageUrl:s,rightTitle:m,rightDate:o,rightExcerpt:i}=d,p=u.save({className:"post-block w-full"});return React.createElement("div",{...p},React.createElement("div",{className:"mx-auto px-4",style:{maxWidth:"1200px"}},React.createElement("div",{className:"post-pair__inner flex flex-wrap -mx-4"},React.createElement("div",{className:"post-item w-1/2 px-4"},React.createElement("div",{className:"post-card block overflow-hidden hover:shadow-lg transition-shadow"},t?React.createElement("img",{src:t,alt:"",className:"w-full h-48 object-cover"}):null,React.createElement("div",{className:"p-4"},c?React.createElement("h3",{className:"font-heading text-h4 mb-2"},React.createElement(a.Content,{value:c})):null,r?React.createElement("div",{className:"text-sm text-gray-600 mb-3"},r):null,n?React.createElement("p",{className:"text-base text-gray-800"},React.createElement(a.Content,{value:n})):null))),React.createElement("div",{className:"post-item w-1/2 px-4"},React.createElement("div",{className:"post-card block overflow-hidden hover:shadow-lg transition-shadow"},s?React.createElement("img",{src:s,alt:"",className:"w-full h-48 object-cover"}):null,React.createElement("div",{className:"p-4"},m?React.createElement("h3",{className:"font-heading text-h4 mb-2"},React.createElement(a.Content,{value:m})):null,o?React.createElement("div",{className:"text-sm text-gray-600 mb-3"},o):null,i?React.createElement("p",{className:"text-base text-gray-800"},React.createElement(a.Content,{value:i})):null))))))}});
