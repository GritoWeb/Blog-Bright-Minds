const o=wp.blocks.registerBlockType,n=wp.blockEditor.useBlockProps,d=wp.data.useSelect,a=wp.htmlEntities.decodeEntities;o("meutema/post-block",{title:"Listagem Posts",icon:"admin-post",category:"blocos-personalizados",description:"Bloco que mostra os Ãºltimos 6 posts em formato de cards.",attributes:{},supports:{html:!1},edit(){const s=n({className:"post-block w-full"}),r=d(e=>e("core").getEntityRecords("postType","post",{per_page:6,status:"publish",orderby:"date",order:"desc",_embed:!0}),[]),l=e=>e?new Date(e).toLocaleDateString("pt-BR",{day:"2-digit",month:"long",year:"numeric"}):"",c=e=>{if(!e._embedded||!e._embedded["wp:featuredmedia"])return null;const t=e._embedded["wp:featuredmedia"][0];return(t==null?void 0:t.source_url)||null};return r?React.createElement("div",{...s},React.createElement("div",{className:"mx-auto px-4",style:{maxWidth:"1200px"}},React.createElement("div",{className:"post-block__inner flex flex-wrap -mx-4"},r.slice(0,6).map((e,t)=>React.createElement("div",{key:e.id,className:"post-item w-full md:w-1/2 px-4 mb-8"},React.createElement("div",{className:"post-card block overflow-hidden group"},c(e)&&React.createElement("img",{src:c(e),alt:a(e.title.rendered),className:"w-full object-cover transition duration-150 ease-in-out group-hover:brightness-110",style:{height:"256px"}}),React.createElement("div",{className:"p-4"},React.createElement("h3",{className:"font-heading text-h4 mb-2"},a(e.title.rendered)),React.createElement("div",{className:"text-sm text-gray-600 mb-3"},l(e.date)),React.createElement("p",{className:"text-base text-gray-800 line-clamp-3"},a(e.excerpt.rendered.replace(/<[^>]*>/g,"")))))))))):React.createElement("div",{...s},React.createElement("div",{className:"mx-auto px-4",style:{maxWidth:"1200px"}},React.createElement("p",null,"Carregando posts...")))},save(){return null}});
